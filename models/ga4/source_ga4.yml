version: 2

sources:
  - name: google_analytics_4
    schema: "{{ var('google_analytics_4_schema', 'google_analytics_4') }}"
    database: "{% if target.type != 'spark'%}{{ var('google_analytics_4_database', target.database) }}{% endif %}"
    loader: Fivetran
    loaded_at_field: _fivetran_synced
    tables:
      - name: ga_4_dem_age
        description: "This table contains Google Analytics 4 data segmented by user age bracket."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions."
          - name: engaged_sessions
            description: "The total number of engaged sessions."
          - name: engagement_rate
            description: "The rate of engagement."
          - name: event_count
            description: "The total number of events recorded."
          - name: new_users
            description: "The number of new users."
          - name: total_revenue
            description: "The total revenue generated."
          - name: total_users
            description: "The total number of users."
          - name: user_age_bracket
            description: "The age bracket of the users."

      - name: ga_4_dem_city
        description: "This table contains Google Analytics 4 data segmented by city."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: city
            description: "The city associated with the user session."
          - name: conversions
            description: "The total number of conversions."
          - name: engaged_sessions
            description: "The total number of engaged sessions."
          - name: engagement_rate
            description: "The rate of engagement."
          - name: event_count
            description: "The total number of events recorded."
          - name: new_users
            description: "The number of new users."
          - name: total_revenue
            description: "The total revenue generated."
          - name: total_users
            description: "The total number of users."
  
      - name: ga_4_dem_country
        description: "This table contains Google Analytics 4 data segmented by country."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions."
          - name: country
            description: "The country associated with the user session."
          - name: engaged_sessions
            description: "The total number of engaged sessions."
          - name: engagement_rate
            description: "The rate of engagement."
          - name: event_count
            description: "The total number of events recorded."
          - name: new_users
            description: "The number of new users."
          - name: total_revenue
            description: "The total revenue generated."
          - name: total_users
            description: "The total number of users."

      - name: ga_4_dem_interest
        description: "This table contains Google Analytics 4 data segmented by user interests."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: branding_interest
            description: "The type of branding interest associated with the user session."
          - name: conversions
            description: "The total number of conversions."
          - name: engaged_sessions
            description: "The total number of engaged sessions."
          - name: engagement_rate
            description: "The rate of engagement."
          - name: event_count
            description: "The total number of events recorded."
          - name: new_users
            description: "The number of new users."
          - name: total_revenue
            description: "The total revenue generated."
          - name: total_users
            description: "The total number of users."

      - name: ga_4_eng_events
        description: "This table contains event engagement data from Google Analytics 4."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the event data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: event_count
            description: "The total number of events recorded."
          - name: event_count_per_user
            description: "Average number of events per user."
          - name: event_name
            description: "The name of the event."
          - name: total_revenue
            description: "The total revenue generated during the recorded events."
          - name: total_users
            description: "The total number of users involved in the events."
    
      - name: ga_4_eng_pages
        description: "This table contains detailed engagement data for various pages, captured from Google Analytics 4."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the page engagement data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions recorded on the page."
          - name: event_count
            description: "The total number of events recorded on the page."
          - name: new_users
            description: "The number of new users who engaged with the page."
          - name: page_path
            description: "The path of the page on which engagement is measured."
          - name: screen_page_views
            description: "The total number of screen or page views."
          - name: total_revenue
            description: "The total revenue generated from the page."
          - name: total_users
            description: "The total number of users who engaged with the page."
          - name: user_engagement_duration
            description: "The total duration of user engagement on the page, typically measured in seconds or milliseconds."


      - name: ga_4_eng_conversions
        description: "This table contains conversion data from Google Analytics 4, detailing event-based conversions."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the conversion data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions recorded."
          - name: event_name
            description: "The name of the event associated with the conversion."
          - name: total_revenue
            description: "The total revenue generated from the conversions."
          - name: total_users
            description: "The total number of users involved in the conversions."
       
      - name: ga_4_googleads_adgroupname
        description: "This table contains data related to Google Ads ad groups, including engagement and conversion metrics from Google Analytics 4."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the ad group data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions attributed to the ad group."
          - name: engaged_sessions
            description: "The total number of engaged sessions originating from the ad group."
          - name: engagement_rate
            description: "The rate of engagement for sessions originating from the ad group."
          - name: event_count
            description: "The total number of events recorded for the ad group."
          - name: first_user_google_ads_ad_group_name
            description: "The name of the first Google Ads ad group where the user originated."
          - name: new_users
            description: "The number of new users attributed to the ad group."
          - name: total_revenue
            description: "The total revenue generated from users originating from the ad group."
          - name: total_users
            description: "The total number of users attributed to the ad group."
          - name: user_engagement_duration
            description: "The total duration of user engagement for sessions originating from the ad group, typically measured in seconds or milliseconds."
        
      - name: ga_4_ta_channel_grouping
        description: "This table contains data segmented by channel grouping, including various engagement and conversion metrics from Google Analytics 4."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the channel grouping data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions attributed to the channel grouping."
          - name: engaged_sessions
            description: "The total number of engaged sessions within the channel grouping."
          - name: engagement_rate
            description: "The rate of engagement for sessions within the channel grouping."
          - name: event_count
            description: "The total number of events recorded for the channel grouping."
          - name: events_per_session
            description: "The average number of events per session within the channel grouping."
          - name: session_default_channel_grouping
            description: "The default channel grouping for the session."
          - name: sessions
            description: "The total number of sessions within the channel grouping."
          - name: total_revenue
            description: "The total revenue generated from users within the channel grouping."
          - name: total_users
            description: "The total number of users attributed to the channel grouping."
          - name: user_engagement_duration
            description: "The total duration of user engagement within the channel grouping, typically measured in seconds or milliseconds."

      
      -  name: ga_4_ta_session
         description: "This table contains session data from Google Analytics 4, including engagement and conversion metrics."
         columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the session data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions recorded during the sessions."
          - name: engaged_sessions
            description: "The total number of engaged sessions."
          - name: engagement_rate
            description: "The rate of engagement for the sessions."
          - name: event_count
            description: "The total number of events recorded during the sessions."
          - name: events_per_session
            description: "The average number of events per session."
          - name: session_source
            description: "The source attributed to the session."
          - name: sessions
            description: "The total number of sessions."
          - name: total_revenue
            description: "The total revenue generated from the sessions."
          - name: total_users
            description: "The total number of users involved in the sessions."
          - name: user_engagement_duration
            description: "The total duration of user engagement during the sessions, typically measured in seconds or milliseconds."

      - name: ga_4_ta_session_campaign
        description: "This table contains session data from Google Analytics 4, segmented by campaign, including various engagement and conversion metrics."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the session data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions recorded during the sessions associated with a specific campaign."
          - name: engaged_sessions
            description: "The total number of engaged sessions for the campaign."
          - name: engagement_rate
            description: "The rate of engagement for the sessions associated with the campaign."
          - name: event_count
            description: "The total number of events recorded during the sessions for the campaign."
          - name: events_per_session
            description: "The average number of events per session for the campaign."
          - name: session_campaign_name
            description: "The name of the campaign associated with the session."
          - name: sessions
            description: "The total number of sessions associated with the campaign."
          - name: total_revenue
            description: "The total revenue generated from the sessions associated with the campaign."
          - name: total_users
            description: "The total number of users involved in the sessions for the campaign."
          - name: user_engagement_duration
            description: "The total duration of user engagement during the sessions for the campaign, typically measured in seconds or milliseconds."

      - name: ga_4_ta_session_medium
        description: "This table contains session data from Google Analytics 4, segmented by medium, including various engagement and conversion metrics."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the session data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions recorded during the sessions associated with a specific medium."
          - name: engaged_sessions
            description: "The total number of engaged sessions for the medium."
          - name: engagement_rate
            description: "The rate of engagement for the sessions associated with the medium."
          - name: event_count
            description: "The total number of events recorded during the sessions for the medium."
          - name: events_per_session
            description: "The average number of events per session for the medium."
          - name: session_medium
            description: "The medium (such as organic, referral, paid) associated with the session."
          - name: sessions
            description: "The total number of sessions associated with the medium."
          - name: total_revenue
            description: "The total revenue generated from the sessions associated with the medium."
          - name: total_users
            description: "The total number of users involved in the sessions for the medium."
          - name: user_engagement_duration
            description: "The total duration of user engagement during the sessions for the medium, typically measured in seconds or milliseconds."

      - name: ga_4_ta_session_source
        description: "This table contains session data from Google Analytics 4, segmented by source platform, including various engagement and conversion metrics."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the session data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions recorded during the sessions associated with a specific source platform."
          - name: engaged_sessions
            description: "The total number of engaged sessions for the source platform."
          - name: engagement_rate
            description: "The rate of engagement for the sessions associated with the source platform."
          - name: event_count
            description: "The total number of events recorded during the sessions for the source platform."
          - name: events_per_session
            description: "The average number of events per session for the source platform."
          - name: session_source_platform
            description: "The source platform (such as search engine, social network, direct) associated with the session."
          - name: sessions
            description: "The total number of sessions associated with the source platform."
          - name: total_revenue
            description: "The total revenue generated from the sessions associated with the source platform."
          - name: total_users
            description: "The total number of users involved in the sessions for the source platform."
          - name: user_engagement_duration
            description: "The total duration of user engagement during the sessions for the source platform, typically measured in seconds or milliseconds."

      - name: ga_4_ta_session_source_medium
        description: "This table contains session data from Google Analytics 4, segmented by both source and medium, including various engagement and conversion metrics."
        columns:
          - name: _fivetran_id
            description: "A unique identifier for each record, generated by Fivetran."
          - name: date
            description: "The date for which the session data is recorded."
          - name: property
            description: "The Google Analytics property identifier."
          - name: _fivetran_synced
            description: "The timestamp of the last synchronization with Fivetran."
          - name: conversions
            description: "The total number of conversions recorded during the sessions associated with specific source and medium."
          - name: engaged_sessions
            description: "The total number of engaged sessions for the combined source and medium."
          - name: engagement_rate
            description: "The rate of engagement for the sessions associated with the combined source and medium."
          - name: event_count
            description: "The total number of events recorded during the sessions for the combined source and medium."
          - name: events_per_session
            description: "The average number of events per session for the combined source and medium."
          - name: session_medium
            description: "The medium (such as organic, referral, paid) associated with the session."
          - name: session_source
            description: "The source (such as search engine, social network, direct) associated with the session."
          - name: sessions
            description: "The total number of sessions associated with the combined source and medium."
          - name: total_revenue
            description: "The total revenue generated from the sessions associated with the combined source and medium."
          - name: total_users
            description: "The total number of users involved in the sessions for the combined source and medium."
          - name: user_engagement_duration
            description: "The total duration of user engagement during the sessions for the combined source and medium, typically measured in seconds or milliseconds."